#!/bin/bash

anded_terms=""
ored_terms=""

for r in "${@}"; do
	if [ "$anded_terms" = "" ]; then
		anded_terms="rg -e \"$r\""
		ored_terms="-e \"$r\""
	else
		anded_terms="${anded_terms} | rg -e \"${r}\""
		ored_terms="${ored_terms} -e \"$r\""
	fi
done

eval "rg -uuu --files | ${anded_terms} | rg $ored_terms" 2>/dev/null
